[{"C:\\Projects\\FTN\\Master\\Literarno-udruzenje\\KP\\store-frontend\\src\\index.js":"1","C:\\Projects\\FTN\\Master\\Literarno-udruzenje\\KP\\store-frontend\\src\\App.js":"2","C:\\Projects\\FTN\\Master\\Literarno-udruzenje\\KP\\store-frontend\\src\\reportWebVitals.js":"3","C:\\Projects\\FTN\\Master\\Literarno-udruzenje\\KP\\store-frontend\\src\\pages\\StorePage.js":"4","C:\\Projects\\FTN\\Master\\Literarno-udruzenje\\KP\\store-frontend\\src\\pages\\OrderFailurePage.js":"5","C:\\Projects\\FTN\\Master\\Literarno-udruzenje\\KP\\store-frontend\\src\\pages\\OrderSuccessPage.js":"6","C:\\Projects\\FTN\\Master\\Literarno-udruzenje\\KP\\store-frontend\\src\\services\\TokenService.js":"7","C:\\Projects\\FTN\\Master\\Literarno-udruzenje\\KP\\store-frontend\\src\\services\\AuthenticationService.js":"8","C:\\Projects\\FTN\\Master\\Literarno-udruzenje\\KP\\store-frontend\\src\\services\\BookService.js":"9","C:\\Projects\\FTN\\Master\\Literarno-udruzenje\\KP\\store-frontend\\src\\shared\\UserNavbar.js":"10","C:\\Projects\\FTN\\Master\\Literarno-udruzenje\\KP\\store-frontend\\src\\services\\InvoiceService.js":"11","C:\\Projects\\FTN\\Master\\Literarno-udruzenje\\KP\\store-frontend\\src\\pages\\MembershipSelect.js":"12"},{"size":517,"mtime":1612717097960,"results":"13","hashOfConfig":"14"},{"size":939,"mtime":1612720764848,"results":"15","hashOfConfig":"14"},{"size":375,"mtime":1612717097960,"results":"16","hashOfConfig":"14"},{"size":3810,"mtime":1612717097960,"results":"17","hashOfConfig":"14"},{"size":999,"mtime":1612717097960,"results":"18","hashOfConfig":"14"},{"size":981,"mtime":1612717097960,"results":"19","hashOfConfig":"14"},{"size":401,"mtime":1612717097960,"results":"20","hashOfConfig":"14"},{"size":350,"mtime":1612717097960,"results":"21","hashOfConfig":"14"},{"size":465,"mtime":1612717097960,"results":"22","hashOfConfig":"14"},{"size":3492,"mtime":1612720764853,"results":"23","hashOfConfig":"14"},{"size":838,"mtime":1612724678535,"results":"24","hashOfConfig":"14"},{"size":4583,"mtime":1612720764849,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"4d31s6",{"filePath":"29","messages":"30","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"28"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Projects\\FTN\\Master\\Literarno-udruzenje\\KP\\store-frontend\\src\\index.js",[],["52","53"],"C:\\Projects\\FTN\\Master\\Literarno-udruzenje\\KP\\store-frontend\\src\\App.js",["54"],"C:\\Projects\\FTN\\Master\\Literarno-udruzenje\\KP\\store-frontend\\src\\reportWebVitals.js",[],"C:\\Projects\\FTN\\Master\\Literarno-udruzenje\\KP\\store-frontend\\src\\pages\\StorePage.js",["55","56","57"],"import React, { useState, useEffect } from 'react';\r\n\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Card from 'react-bootstrap/Card';\r\nimport CardDeck from 'react-bootstrap/CardDeck';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\n\r\nimport { BookService } from '../services/BookService';\r\nimport UserNavbar from '../shared/UserNavbar';\r\nimport { InvoiceService } from '../services/InvoiceService';\r\n\r\nconst StorePage = (props) => {\r\n\tconst [itemsInCart, setCartItems] = useState([]);\r\n\tconst [books, setBooks] = useState([]);\r\n\tconst [showAlert, setShowAlert] = useState(false);\r\n\tconst [isLoading, setIsLoading] = useState(true);\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function fetchBooks() {\r\n\t\t\tconst response = await BookService.getAll();\r\n\t\t\tconsole.log(response.data);\r\n\t\t\tsetBooks(response.data.books);\r\n\t\t\tsetIsLoading(false);\r\n\t\t}\r\n\r\n\t\tfetchBooks();\r\n\t}, []);\r\n\r\n\tconst itemIsInCart = (id) => {\r\n\t\treturn itemsInCart.includes(id);\r\n\t};\r\n\r\n\tconst handleCartItemAddition = (id) => {\r\n\t\tconsole.log('add');\r\n\t\tconsole.log(id);\r\n\t\tconst itemsInCartNew = itemsInCart.concat(id);\r\n\t\tsetCartItems(itemsInCartNew);\r\n\t\tconsole.log(itemsInCart);\r\n\t};\r\n\r\n\tconst handleCartItemRemoval = (id) => {\r\n\t\tconsole.log('removal');\r\n\t\tconsole.log(id);\r\n\t\tsetCartItems(itemsInCart.filter((bookId) => bookId != id));\r\n\t\tconsole.log(itemsInCart);\r\n\t};\r\n\r\n\tconst checkoutCardItems = async () => {\r\n\t\tconst dto = {\r\n\t\t\tbookIds: itemsInCart,\r\n\t\t};\r\n\t\tsetIsLoading(true);\r\n\t\tsetCartItems([]);\r\n\r\n\t\tconst response = await InvoiceService.createNewInvoice(dto);\r\n\t\tsetIsLoading(false);\r\n\t\tif (response.status === 200) {\r\n\t\t\topenInNewTab(response.data);\r\n\t\t} else {\r\n\t\t\talert('There way an processing your order');\r\n\t\t}\r\n\t\tconsole.log(response);\r\n\t};\r\n\r\n\tconst openInNewTab = (url) => {\r\n\t\tconsole.log('here');\r\n\t\tconst newWindow = window.open(url, '_blank', 'noopener,noreferrer');\r\n\t\tif (newWindow) newWindow.opener = null;\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<UserNavbar setCartItems={setCartItems} itemsInCart={itemsInCart} checkoutCardItems={checkoutCardItems} />\r\n\t\t\t<Container>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t{isLoading && (\r\n\t\t\t\t\t\t<Col className=\"text-center\" style={{ marginTop: 80 }} md={{ span: 6, offset: 3 }}>\r\n\t\t\t\t\t\t\t<Spinner\r\n\t\t\t\t\t\t\t\tanimation=\"border\"\r\n\t\t\t\t\t\t\t\tstyle={{ height: 500, width: 500 }}\r\n\t\t\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\t\t\trole=\"status\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<span className=\"sr-only\">Loading...</span>\r\n\t\t\t\t\t\t\t</Spinner>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{!isLoading && books.length > 0 && (\r\n\t\t\t\t\t\t<CardDeck style={{ marginTop: 40 }}>\r\n\t\t\t\t\t\t\t{books.map((item) => (\r\n\t\t\t\t\t\t\t\t<Col xs={4} key={item.id} style={{ marginBottom: 40 }}>\r\n\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Img\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: '100%', height: '25vw', objectFit: 'cover' }}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"top\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={item.pictureUrl}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Body style={{ height: '7vw' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Title>{item.title}</Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Footer>\r\n\t\t\t\t\t\t\t\t\t\t\tPrice: {item.price} {item.currency}\r\n\t\t\t\t\t\t\t\t\t\t</Card.Footer>\r\n\t\t\t\t\t\t\t\t\t\t{item.owned && (\r\n\t\t\t\t\t\t\t\t\t\t\t<Button block disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\tAlready owned\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{!item.owned && itemIsInCart(item.id) && (\r\n\t\t\t\t\t\t\t\t\t\t\t<Button block onClick={() => handleCartItemRemoval(item.id)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tRemove from Cart\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{!item.owned && !itemIsInCart(item.id) && (\r\n\t\t\t\t\t\t\t\t\t\t\t<Button block onClick={() => handleCartItemAddition(item.id)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tAdd to Cart\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</CardDeck>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default StorePage;\r\n","C:\\Projects\\FTN\\Master\\Literarno-udruzenje\\KP\\store-frontend\\src\\pages\\OrderFailurePage.js",[],"C:\\Projects\\FTN\\Master\\Literarno-udruzenje\\KP\\store-frontend\\src\\pages\\OrderSuccessPage.js",[],"C:\\Projects\\FTN\\Master\\Literarno-udruzenje\\KP\\store-frontend\\src\\services\\TokenService.js",[],"C:\\Projects\\FTN\\Master\\Literarno-udruzenje\\KP\\store-frontend\\src\\services\\AuthenticationService.js",[],"C:\\Projects\\FTN\\Master\\Literarno-udruzenje\\KP\\store-frontend\\src\\services\\BookService.js",[],"C:\\Projects\\FTN\\Master\\Literarno-udruzenje\\KP\\store-frontend\\src\\shared\\UserNavbar.js",["58","59"],"C:\\Projects\\FTN\\Master\\Literarno-udruzenje\\KP\\store-frontend\\src\\services\\InvoiceService.js",[],"C:\\Projects\\FTN\\Master\\Literarno-udruzenje\\KP\\store-frontend\\src\\pages\\MembershipSelect.js",["60","61","62"],{"ruleId":"63","replacedBy":"64"},{"ruleId":"65","replacedBy":"66"},{"ruleId":"67","severity":1,"message":"68","line":9,"column":10,"nodeType":"69","messageId":"70","endLine":9,"endColumn":16},{"ruleId":"67","severity":1,"message":"71","line":18,"column":9,"nodeType":"69","messageId":"70","endLine":18,"endColumn":18},{"ruleId":"67","severity":1,"message":"72","line":18,"column":20,"nodeType":"69","messageId":"70","endLine":18,"endColumn":32},{"ruleId":"73","severity":1,"message":"74","line":47,"column":54,"nodeType":"75","messageId":"76","endLine":47,"endColumn":56},{"ruleId":"67","severity":1,"message":"77","line":12,"column":10,"nodeType":"69","messageId":"70","endLine":12,"endColumn":24},{"ruleId":"67","severity":1,"message":"78","line":55,"column":8,"nodeType":"69","messageId":"70","endLine":55,"endColumn":20},{"ruleId":"67","severity":1,"message":"79","line":11,"column":10,"nodeType":"69","messageId":"70","endLine":11,"endColumn":21},{"ruleId":"67","severity":1,"message":"80","line":12,"column":8,"nodeType":"69","messageId":"70","endLine":12,"endColumn":18},{"ruleId":"67","severity":1,"message":"81","line":13,"column":10,"nodeType":"69","messageId":"70","endLine":13,"endColumn":24},"no-native-reassign",["82"],"no-negated-in-lhs",["83"],"no-unused-vars","'_login' is defined but never used.","Identifier","unusedVar","'showAlert' is assigned a value but never used.","'setShowAlert' is assigned a value but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","'_buyMembership' is defined but never used.","'openInNewTab' is assigned a value but never used.","'BookService' is defined but never used.","'UserNavbar' is defined but never used.","'InvoiceService' is defined but never used.","no-global-assign","no-unsafe-negation"]